{"version":3,"sources":["scripts/discord-contentscript.js"],"names":["$","document","ready","updateTwitchPlayer","msg","console","log","hasClass","userListStatus","click","parent","css","next","width","margin-right","margin-left","before","height","outerHeight","remove","removeAttr","checkMessagesContainer","setInterval","length","clearInterval","checkLinks","after","append","bootstrapSwitch","on","event","state"],"mappings":"AAAA,YAEAA,GAAEC,UAAUC,MAAM,WAuChB,QAASC,GAAmBC,GACf,OAAPA,GACFC,QAAQC,IAAI,wDAERN,EAAE,uCAAuCO,SAAS,WACpDC,GAAiB,EACjBR,EAAE,uCAAuCS,SAEzCD,GAAiB,EAGnBR,EAAE,iBAAiBS,QACnBT,EAAE,qBAAqBU,SAASC,IAAI,cAAe,YACnDX,EAAE,qBAAqBW,IAAI,QAAS,OACpCX,EAAE,qBAAqBY,KAAK,QAAQD,KAAME,MAAS,MAAOC,eAAgB,KAAMC,cAAe,QAE/Ff,EAAE,QAAQgB,OAAO,6CAAkDhB,EAAEC,UAAUY,QAAUb,EAAE,mBAAmBa,QAAUb,EAAE,qBAAqBa,SAAW,gBAAkBb,EAAEC,UAAUgB,SAAWjB,EAAE,eAAekB,eAAiB,0CAA4ClB,EAAE,eAAekB,cAAgB,aAAelB,EAAE,mBAAmBa,QAAU,gNAChV,UAAPT,IACTC,QAAQC,IAAI,yDACZN,EAAE,qBAAqBmB,SACvBnB,EAAE,qBAAqBU,SAASU,WAAW,SAC3CpB,EAAE,qBAAqBoB,WAAW,SAClCpB,EAAE,qBAAqBY,KAAK,QAAQQ,WAAW,SAEzB,GAAlBZ,GACFR,EAAE,uCAAuCS,SA/D/CJ,QAAQC,IAAI,kBAEZD,QAAQC,IAAIN,EAAE,qBAEd,IAAIQ,GAAiB,KAEjBa,EAAyBC,YAAY,WACnCtB,EAAE,qBAAqBuB,OAAS,IAElClB,QAAQC,IAAI,6BACZN,EAAE,qBAAqBW,IAAI,SAAU,SACrCa,cAAcH,KAEf,KAECI,EAAaH,YAAY,WACvBtB,EAAE,UAAUuB,OAAS,IAEvBlB,QAAQC,IAAI,6BACZN,EAAE,UAAU0B,MAAM,iIAClB1B,EAAE,kBAAkB2B,OAAO,yEAC3BH,cAAcC,GAEdzB,EAAE,kCAAkC4B,kBACpCvB,QAAQC,IAAIN,EAAE,kCAAkC4B,gBAAgB,UAEhE5B,EAAE,uCAAuC6B,GAAG,+BAAgC,SAAUC,EAAOC,GAC3F1B,QAAQC,IAAI,0BACZD,QAAQC,IAAIN,EAAE,kCAAkC4B,gBAAgB,UAE9DzB,EADEH,EAAE,uCAAuC4B,gBAAgB,SACxC,MAEA,cAIxB","file":"scripts/discord-contentscript.js","sourcesContent":["\"use strict\";\n\n$(document).ready(function () {\n  console.log(\"Hello Discord!\");\n\n  console.log($('.messages-wrapper'));\n\n  var userListStatus = null;\n\n  var checkMessagesContainer = setInterval(function () {\n    if ($(\".messages-wrapper\").length > 0) {\n      // Check if element has been found\n      console.log('Add CSS to Messages Panel');\n      $('.messages-wrapper').css('height', '400px');\n      clearInterval(checkMessagesContainer);\n    }\n  }, 1000);\n\n  var checkLinks = setInterval(function () {\n    if ($(\".topic\").length > 0) {\n      // Check if element has been found\n      console.log('Add Switch to Links Panel');\n      $('.topic').after('<div id=\"twitch-switch\"><label for=\"twitch-player-display\" id=\"twitch-player-display-label\">Twitch Player Embed</label></div>');\n      $('#twitch-switch').append(\"<input type=\\\"checkbox\\\" data-size=\\\"mini\\\" name=\\\"twitch-player-display\\\">\");\n      clearInterval(checkLinks);\n\n      $(\"[name='twitch-player-display']\").bootstrapSwitch();\n      console.log($(\"[name='twitch-player-display']\").bootstrapSwitch('state'));\n\n      $('input[name=\"twitch-player-display\"]').on('switchChange.bootstrapSwitch', function (event, state) {\n        console.log('Clicked Twitch Switch.');\n        console.log($(\"[name='twitch-player-display']\").bootstrapSwitch('state'));\n        if ($('input[name=\"twitch-player-display\"]').bootstrapSwitch('state')) {\n          updateTwitchPlayer('add');\n        } else {\n          updateTwitchPlayer('remove');\n        }\n      });\n    }\n  }, 1000);\n\n  function updateTwitchPlayer(msg) {\n    if (msg == 'add') {\n      console.log('Switch is on. Adding Twitch iframe and modifying UI.');\n\n      if ($('.header-toolbar button:nth-child(2)').hasClass('active')) {\n        userListStatus = true;\n        $('.header-toolbar button:nth-child(2)').click();\n      } else {\n        userListStatus = false;\n      }\n\n      $('button.active').click();\n      $('.messages-wrapper').parent().css('align-items', 'flex-end');\n      $('.messages-wrapper').css('width', '48%');\n      $('.messages-wrapper').next('form').css({ 'width': '46%', 'margin-right': '2%', 'margin-left': '0px' });\n\n      $('.app').before(\"<div id=\\\"twitch-container\\\" style=\\\"width: \" + ($(document).width() - $('.guilds-wrapper').width() - $('.messages-wrapper').width()) + \"px; height: \" + ($(document).height() - $('.title-wrap').outerHeight()) + \"px; position: fixed; z-index:100; top: \" + $('.title-wrap').outerHeight() + \"px; left: \" + $('.guilds-wrapper').width() + \"px;\\\"><iframe id=\\\"twitch-embed\\\" src=\\\"https://player.twitch.tv/?channel=gamesdonequick\\\" width=\\\"100%\\\" height=\\\"100%\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" allowFullscreen=\\\"true\\\" class=\\\"center-block\\\"></iframe></div>\");\n    } else if (msg == 'remove') {\n      console.log('Switch is off. Removing Twitch iframe and UI changes.');\n      $('#twitch-container').remove();\n      $('.messages-wrapper').parent().removeAttr('style');\n      $('.messages-wrapper').removeAttr('style');\n      $('.messages-wrapper').next('form').removeAttr('style');\n\n      if (userListStatus == true) {\n        $('.header-toolbar button:nth-child(2)').click();\n      }\n    }\n  }\n});"],"sourceRoot":"/source/"}